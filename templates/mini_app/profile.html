{% extends "mini_app/base.html" %}

{% block title %}–ü—Ä–æ—Ñ–∏–ª—å - NFT Gifts Market{% endblock %}

{% block content %}
<div class="card">
    <div style="text-align: center; margin-bottom: 20px;">
        <div style="width: 80px; height: 80px; background: var(--tg-theme-link-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 12px; font-size: 32px; color: white;">
            üë§
        </div>
        <h2 id="userName" style="margin-bottom: 4px;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
        <p id="userInfo" style="color: var(--tg-theme-hint-color); font-size: 14px;">@username</p>
    </div>
</div>

<div class="card">
    <h3 style="margin-bottom: 16px;">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
    <p style="color: var(--tg-theme-hint-color);">
        –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ NFT Gifts Market!<br>
        –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å NFT –ø–æ–¥–∞—Ä–∫–∞–º–∏.
    </p>
</div>

<div class="card">
    <h3 style="margin-bottom: 16px;">‚öôÔ∏è –î–µ–π—Å—Ç–≤–∏—è</h3>
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
        <button class="btn btn-secondary" onclick="window.open('https://t.me/+trsTIdq4X8IyOTdi', '_blank')" style="background: #0088cc; color: white;">
            üì¢ Telegram –∫–∞–Ω–∞–ª
        </button>
        
        <button class="btn btn-secondary" onclick="showSupport()">
            üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞
        </button>
        
        <button class="btn btn-secondary" onclick="shareApp()" style="background: #28a745; color: white;">
            üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
        </button>
        
        <button class="btn btn-secondary" onclick="showAbout()">
            ‚ÑπÔ∏è –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
        </button>
    </div>
</div>

<div class="card" style="text-align: center;">
    <p style="color: var(--tg-theme-hint-color); font-size: 12px; margin-bottom: 8px;">
        NFT Gifts Market v2.0 (Simple)
    </p>
    <p style="color: var(--tg-theme-hint-color); font-size: 12px;">
        –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è NFT –ø–æ–¥–∞—Ä–∫–∞–º–∏
    </p>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    loadProfile();
});

function loadProfile() {
    if (window.telegramUser) {
        const user = window.telegramUser;
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –∏ username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        document.getElementById('userName').textContent = user.first_name + (user.last_name ? ' ' + user.last_name : '');
        document.getElementById('userInfo').textContent = user.username ? '@' + user.username : 'ID: ' + user.id;
        
        console.log('–ü—Ä–æ—Ñ–∏–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω:', user);
    } else {
        console.error('telegramUser –Ω–µ –Ω–∞–π–¥–µ–Ω');
        document.getElementById('userInfo').textContent = '–û—à–∏–±–∫–∞: –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö Telegram';
    }
}

function showSupport() {
    const supportMessage = `
üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞ NFT Gifts Market

üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã:
‚Ä¢ Telegram: @noscamnftsup

‚è∞ –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 24/7
üìù –û–±—ã—á–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 1-2 —á–∞—Å–∞
    `;
    
    showAlert(supportMessage);
}

function showAbout() {
    const aboutMessage = `
‚ÑπÔ∏è –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

NFT Gifts Market - —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ NFT –ø–æ–¥–∞—Ä–∫–∞–º–∏ –≤ Telegram.

üõ°Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
‚Ä¢ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–¥–µ–ª–∫–∏
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ NFT
‚Ä¢ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

üì± –í–µ—Ä—Å–∏—è: 2.0 (Simple)
üè¢ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: NFT Gifts Team

–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
    `;
    
    showAlert(aboutMessage);
}

function shareApp() {
    const shareText = `üéÅ NFT Gifts Market - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è NFT –ø–æ–¥–∞—Ä–∫–∞–º–∏!

‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç–∏–π
‚úÖ –ó–∞—â–∏—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤
‚úÖ –ë—ã—Å—Ç—Ä—ã–µ —Å–¥–µ–ª–∫–∏

–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è: https://t.me/noscamnftrbot`;
    
    if (window.telegramWebApp) {
        window.telegramWebApp.openTelegramLink(`https://t.me/share/url?url=https://t.me/noscamnftrbot&text=${encodeURIComponent(shareText)}`);
    } else {
        showAlert('–°—Å—ã–ª–∫–∞: https://t.me/noscamnftrbot');
    }
}
</script>
{% endblock %}
